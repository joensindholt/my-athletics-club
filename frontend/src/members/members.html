<topbar></topbar>
<div ng-show="isAuthenticated && vm.members">
  <!-- header -->
  <h1 class="center">Medlemmer ({{ vm.members.length }})</h1>
  <!-- actions -->
  <div class="center">
    <div class="btn-group dropdown" uib-dropdown="" style="">
      <button id="split-button" type="button" class="btn btn-primary" ui-sref="members_add">Tilføj medlem</button>
      <button type="button" class="btn btn-primary dropdown-toggle" uib-dropdown-toggle="" aria-haspopup="true" aria-expanded="false">
        <span class="caret"></span>
        <span class="sr-only">Split button!</span>
      </button>
      <ul class="dropdown-menu" uib-dropdown-menu="" role="menu" aria-labelledby="split-button">
        <li role="menuitem"><a ng-click="vm.chargeMemberships()">Opkræv kontingent</a></li>
      </ul>
    </div>
  </div>
  <!-- filters -->
  <h4>Filtrér medlemmer</h4>
  <div>
    <input type="text" ng-model="search" class="c-formular-input center" />
  </div>
  <div class="center spacy">
    <input type="checkbox" ng-model="vm.hasOutstandingMembershipPaymentFilter" ng-click="vm.filterMembers()" />
    <span>Vis medlemmer m. udest. kont.</span>
  </div>
  <!-- member list -->
  <div class="o-detail-list">
    <div class="row">
      <div class="col-sm-12" ng-repeat="member in vm.members | filter:search" ui-sref="members_edit({ id: member.id })">
        <div class="o-detail-list__item">
          <member-list-item member="member"></member-list-item>
        </div>
      </div>
    </div>
  </div>
  <!-- family member list -->
  <h4>Familie-medlemskaber</h4>
  <div class="o-detail-list">
    <div class="row">
      <div class="col-sm-12" ng-repeat="family in vm.familyMemberships | filter:search" ui-sref="members_edit({ id: family.id })">
        <div class="o-detail-list__item">
          <member-list-item member="family"></member-list-item>
        </div>
      </div>
    </div>
  </div>
</div>